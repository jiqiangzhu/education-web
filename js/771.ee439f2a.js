"use strict";(self["webpackChunkeducation_web"]=self["webpackChunkeducation_web"]||[]).push([[771],{771:function(t,e,a){a.r(e),a.d(e,{default:function(){return o}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"live-course-container"},[t._m(0),e("div",{staticClass:"filter-section"},[t._m(1),e("div",{staticClass:"filter-content"},[e("div",{staticClass:"filter-row"},[e("div",{staticClass:"filter-item"},[e("label",[t._v("直播状态:")]),e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:t.filters.liveStatus,callback:function(e){t.$set(t.filters,"liveStatus",e)},expression:"filters.liveStatus"}},[e("el-option",{attrs:{label:"全部",value:"all"}}),e("el-option",{attrs:{label:"未开始",value:"notStarted"}}),e("el-option",{attrs:{label:"已开始",value:"started"}}),e("el-option",{attrs:{label:"已结束",value:"ended"}})],1)],1),e("div",{staticClass:"filter-item"},[e("label",[t._v("课程名称:")]),e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入课程名称",clearable:""},model:{value:t.filters.courseName,callback:function(e){t.$set(t.filters,"courseName",e)},expression:"filters.courseName"}})],1),e("div",{staticClass:"filter-item"},[e("label",[t._v("小程序:")]),e("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:t.filters.miniprogram,callback:function(e){t.$set(t.filters,"miniprogram",e)},expression:"filters.miniprogram"}},[e("el-option",{attrs:{label:"全部",value:"all"}}),e("el-option",{attrs:{label:"小程序1",value:"mp1"}}),e("el-option",{attrs:{label:"小程序2",value:"mp2"}})],1)],1)]),e("div",{staticClass:"filter-row"},[e("div",{staticClass:"filter-item"},[e("label",[t._v("起始时间:")]),e("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.filters.dateRange,callback:function(e){t.$set(t.filters,"dateRange",e)},expression:"filters.dateRange"}})],1),e("div",{staticClass:"quick-date"},t._l(t.quickDates,function(a){return e("el-button",{key:a.value,attrs:{type:t.filters.quickDate===a.value?"primary":"",size:"small"},on:{click:function(e){t.filters.quickDate=a.value}}},[t._v(" "+t._s(a.label)+" ")])}),1),e("div",{staticClass:"filter-actions"},[e("el-button",{attrs:{type:"primary"},on:{click:t.handleQuery}},[t._v("查询")]),e("el-button",{on:{click:t.handleReset}},[t._v("重置")])],1)])])]),e("div",{staticClass:"list-section"},[e("div",{staticClass:"section-header"},[t._m(2),e("div",{staticClass:"header-actions"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v("+ 新建课程")]),e("el-button",{on:{click:t.handleShelf}},[t._v("上架")]),e("el-button",{on:{click:t.handleUnshelf}},[t._v("下架")]),e("el-button",{on:{click:t.handleBatch}},[t._v("批量操作")])],1)]),e("div",{staticClass:"table-container"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.liveCourseList},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{label:"直播信息",width:"250"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"course-info"},[e("el-avatar",{staticClass:"course-thumbnail",attrs:{size:50,src:a.row.thumbnail,shape:"square"}}),e("span",{staticClass:"course-title"},[t._v(t._s(a.row.title))])],1)]}}])}),e("el-table-column",{attrs:{label:"直播状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.getLiveStatusType(a.row.liveStatus),size:"small"}},[t._v(" "+t._s(a.row.liveStatusText)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"instructor",label:"讲师",width:"120",align:"center"}}),e("el-table-column",{attrs:{label:"预约人数",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"reserved-count"},[t._v(t._s(a.row.reservedCount)+"人")])]}}])}),e("el-table-column",{attrs:{label:"课程状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"course-status"},[e("span",{staticClass:"status-dot",style:{backgroundColor:t.getCourseStatusColor(a.row.courseStatus)}}),e("span",[t._v(t._s(a.row.courseStatusText))])])]}}])}),e("el-table-column",{attrs:{prop:"startTime",label:"开课时间",width:"180",align:"center"}}),e("el-table-column",{attrs:{label:"操作",width:"150",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("编辑")]),e("el-link",{staticStyle:{"margin-left":"16px"},attrs:{type:"danger",underline:!1},on:{click:function(e){return t.handleDelete(a.row)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"pagination-container"},[e("div",{staticClass:"total"},[t._v("共计"+t._s(t.total)+"条")]),e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),e("div",{staticClass:"page-jump"},[e("el-input",{staticStyle:{width:"60px",margin:"0 8px"},attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleJumpPage.apply(null,arguments)}},model:{value:t.jumpPage,callback:function(e){t.jumpPage=e},expression:"jumpPage"}}),e("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"small"},on:{click:t.handleJumpPage}},[t._v("前往")])],1)],1)],1)])])},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"breadcrumb"},[e("span",[t._v("课程管理 / 直播课程")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-title"},[e("div",{staticClass:"title-bar"}),e("span",[t._v("直播筛选")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-title"},[e("div",{staticClass:"title-bar"}),e("span",[t._v("直播列表")])])}],i={name:"CourseLive",data(){return{filters:{liveStatus:"all",courseName:"",miniprogram:"all",dateRange:[],quickDate:"today"},quickDates:[{label:"今天",value:"today"},{label:"昨天",value:"yesterday"},{label:"近7天",value:"last7days"},{label:"近30天",value:"last30days"}],liveCourseList:[{id:1,title:"爱吃素的猫",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"started",liveStatusText:"已开始",instructor:"赵晓莉",reservedCount:300,courseStatus:"onShelf",courseStatusText:"已上架",startTime:"2025/12/23 10:25"},{id:2,title:"刘清水",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"ended",liveStatusText:"已结束",instructor:"张震",reservedCount:60,courseStatus:"offShelf",courseStatusText:"已下架",startTime:"2025/12/23 10:25"},{id:3,title:"单恋一枝花",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"notStarted",liveStatusText:"未开始",instructor:"张红霞",reservedCount:26,courseStatus:"pending",courseStatusText:"待上架",startTime:"2025/12/23 10:25"},{id:4,title:"不瘦10斤不改头像",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"started",liveStatusText:"已开始",instructor:"黄宝蓝",reservedCount:69,courseStatus:"onShelf",courseStatusText:"已上架",startTime:"2025/12/23 10:25"},{id:5,title:"李炎",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"notStarted",liveStatusText:"未开始",instructor:"赵晓莉",reservedCount:100,courseStatus:"onShelf",courseStatusText:"已上架",startTime:"2025/12/23 10:25"},{id:6,title:"张萌萌",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"ended",liveStatusText:"已结束",instructor:"张震",reservedCount:36,courseStatus:"offShelf",courseStatusText:"已下架",startTime:"2025/12/23 10:25"},{id:7,title:"张胡",thumbnail:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",liveStatus:"started",liveStatusText:"已开始",instructor:"张红霞",reservedCount:336,courseStatus:"onShelf",courseStatusText:"已上架",startTime:"2025/12/23 10:25"}],selectedRows:[],currentPage:1,pageSize:10,total:500,jumpPage:""}},methods:{handleQuery(){console.log("查询",this.filters),this.currentPage=1,this.loadData()},handleReset(){this.filters={liveStatus:"all",courseName:"",miniprogram:"all",dateRange:[],quickDate:"today"},this.currentPage=1,this.loadData()},handleAdd(){this.$message.info("新建课程功能")},handleShelf(){0!==this.selectedRows.length?this.$message.success(`已上架 ${this.selectedRows.length} 个课程`):this.$message.warning("请选择要上架的课程")},handleUnshelf(){0!==this.selectedRows.length?this.$message.success(`已下架 ${this.selectedRows.length} 个课程`):this.$message.warning("请选择要下架的课程")},handleBatch(){0!==this.selectedRows.length?this.$message.info("批量操作功能"):this.$message.warning("请选择要操作的课程")},handleEdit(t){this.$message.info(`编辑课程"${t.title}"`)},handleDelete(t){this.$confirm(`确定要删除课程"${t.title}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=this.liveCourseList.findIndex(e=>e.id===t.id);e>-1&&(this.liveCourseList.splice(e,1),this.total--,this.$message.success("删除成功"))}).catch(()=>{this.$message.info("已取消删除")})},handleSelectionChange(t){this.selectedRows=t},getLiveStatusType(t){const e={notStarted:"info",started:"success",ended:""};return e[t]||""},getCourseStatusColor(t){const e={onShelf:"#67C23A",pending:"#E6A23C",offShelf:"#F56C6C"};return e[t]||"#909399"},handleSizeChange(t){this.pageSize=t,this.loadData()},handleCurrentChange(t){this.currentPage=t,this.loadData()},handleJumpPage(){const t=parseInt(this.jumpPage);t&&t>0&&t<=Math.ceil(this.total/this.pageSize)?(this.currentPage=t,this.loadData(),this.jumpPage=""):(this.$message.error("请输入有效的页码"),this.jumpPage="")},loadData(){console.log("加载数据",this.filters,this.currentPage,this.pageSize)}}},n=i,r=a(1656),c=(0,r.A)(n,s,l,!1,null,"93511fe8",null),o=c.exports}}]);