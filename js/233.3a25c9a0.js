"use strict";(self["webpackChunkeducation_web"]=self["webpackChunkeducation_web"]||[]).push([[233],{3233:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"class-container"},[e._m(0),t("div",{staticClass:"filter-section"},[e._m(1),t("div",{staticClass:"filter-content"},[t("div",{staticClass:"filter-row"},[t("div",{staticClass:"filter-item"},[t("label",[e._v("状态:")]),t("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"全部"},model:{value:e.filters.status,callback:function(t){e.$set(e.filters,"status",t)},expression:"filters.status"}},[t("el-option",{attrs:{label:"全部",value:"all"}}),t("el-option",{attrs:{label:"未处理",value:"unprocessed"}}),t("el-option",{attrs:{label:"已跟进",value:"followed"}}),t("el-option",{attrs:{label:"已转化",value:"converted"}}),t("el-option",{attrs:{label:"已流失",value:"lost"}})],1)],1),t("div",{staticClass:"filter-item"},[t("label",[e._v("来源:")]),t("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"小程序"},model:{value:e.filters.source,callback:function(t){e.$set(e.filters,"source",t)},expression:"filters.source"}},[t("el-option",{attrs:{label:"小程序",value:"miniprogram"}}),t("el-option",{attrs:{label:"公众号",value:"official"}})],1)],1),t("div",{staticClass:"filter-item"},[t("label",[e._v("其他:")]),t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名/手机号/微信筛选"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}})],1)]),t("div",{staticClass:"filter-row"},[t("div",{staticClass:"filter-item"},[t("label",[e._v("时间:")]),t("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.dateRange,callback:function(t){e.$set(e.filters,"dateRange",t)},expression:"filters.dateRange"}})],1),t("div",{staticClass:"quick-date"},e._l(e.quickDates,function(a){return t("el-button",{key:a.value,attrs:{type:e.filters.quickDate===a.value?"primary":"",size:"small"},on:{click:function(t){e.filters.quickDate=a.value}}},[e._v(" "+e._s(a.label)+" ")])}),1),t("div",{staticClass:"filter-actions"},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[e._v("查询")]),t("el-button",{on:{click:e.handleReset}},[e._v("重置")])],1)])])]),t("div",{staticClass:"list-section"},[t("div",{staticClass:"section-header"},[e._m(2),t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("+ 新增")])],1),t("div",{staticClass:"table-container"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.studentList},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"学生信息",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"student-info"},[t("el-avatar",{attrs:{size:40,src:a.row.avatar}}),t("span",[e._v(e._s(a.row.name))])],1)]}}])}),t("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"150"}}),t("el-table-column",{attrs:{label:"来源",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"小程序"===a.row.source?"":"info",effect:"公众号"===a.row.source?"plain":"dark"}},[e._v(" "+e._s(a.row.source)+" ")])]}}])}),t("el-table-column",{attrs:{prop:"consultTime",label:"咨询时间",width:"180"}}),t("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-select",{staticStyle:{width:"120px"},attrs:{size:"small"},on:{change:function(t){return e.handleStatusChange(a.row)}},model:{value:a.row.status,callback:function(t){e.$set(a.row,"status",t)},expression:"scope.row.status"}},e._l(e.statusOptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t("i",{class:a.icon,style:{color:a.color}})])])}),1)]}}])}),t("el-table-column",{attrs:{prop:"followTime",label:"最近跟进时间",width:"180"}}),t("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.handleDetail(a.row)}}},[e._v("详情")]),t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.handleTransfer(a.row)}}},[e._v("转为班级学生")]),t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.handleFollow(a.row)}}},[e._v("添加跟进记录")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("div",{staticClass:"total"},[e._v("共计"+e._s(e.total)+"条")]),t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("div",{staticClass:"page-jump"},[t("el-input",{staticStyle:{width:"60px",margin:"0 8px"},attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleJumpPage.apply(null,arguments)}},model:{value:e.jumpPage,callback:function(t){e.jumpPage=t},expression:"jumpPage"}}),t("el-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",size:"small"},on:{click:e.handleJumpPage}},[e._v("前往")])],1)],1)],1)])])},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"breadcrumb"},[t("span",[e._v("用户管理 / 班级管理")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"section-title"},[t("div",{staticClass:"title-bar"}),t("span",[e._v("班级筛选")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"section-title"},[t("div",{staticClass:"title-bar"}),t("span",[e._v("学生列表")])])}],n={name:"ClassManagement",data(){return{filters:{status:"all",source:"miniprogram",dateRange:[],quickDate:"today",keyword:""},quickDates:[{label:"今天",value:"today"},{label:"昨天",value:"yesterday"},{label:"近7天",value:"last7days"},{label:"近30天",value:"last30days"}],studentList:[{id:1,name:"爱吃素的猫",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"小程序",consultTime:"2025/12/23 10:25",status:"unprocessed",followTime:"2025/12/23 10:25"},{id:2,name:"刘清水",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"公众号",consultTime:"2025/12/23 10:25",status:"followed",followTime:"2025/12/23 10:25"},{id:3,name:"单恋一枝花",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"小程序",consultTime:"2025/12/23 10:25",status:"followed",followTime:"2025/12/23 10:25"},{id:4,name:"不瘦10斤不改头像",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"公众号",consultTime:"2025/12/23 10:25",status:"followed",followTime:"2025/12/23 10:25"},{id:5,name:"李炎",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"小程序",consultTime:"2025/12/23 10:25",status:"converted",followTime:"2025/12/23 10:25"},{id:6,name:"张萌萌",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"小程序",consultTime:"2025/12/23 10:25",status:"converted",followTime:"2025/12/23 10:25"},{id:7,name:"张胡",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",phone:"188 0982 8765",source:"公众号",consultTime:"2025/12/23 10:25",status:"lost",followTime:"2025/12/23 10:25"}],statusOptions:[{label:"未处理",value:"unprocessed",icon:"el-icon-circle-close",color:"#F56C6C"},{label:"已跟进",value:"followed",icon:"el-icon-warning",color:"#E6A23C"},{label:"已转化",value:"converted",icon:"el-icon-success",color:"#67C23A"},{label:"已流失",value:"lost",icon:"el-icon-remove",color:"#909399"}],selectedRows:[],currentPage:1,pageSize:10,total:500,jumpPage:""}},methods:{handleQuery(){console.log("查询",this.filters),this.currentPage=1,this.loadData()},handleReset(){this.filters={status:"all",source:"miniprogram",dateRange:[],quickDate:"today",keyword:""},this.currentPage=1,this.loadData()},handleAdd(){this.$message.info("新增学生功能")},handleSelectionChange(e){this.selectedRows=e},handleStatusChange(e){console.log("状态变更",e),this.$message.success(`学生"${e.name}"状态已更新`)},handleDetail(e){this.$message.info(`查看 ${e.name} 的详情`)},handleTransfer(e){this.$message.info(`将 ${e.name} 转为班级学生`)},handleFollow(e){this.$message.info(`为 ${e.name} 添加跟进记录`)},handleSizeChange(e){this.pageSize=e,this.loadData()},handleCurrentChange(e){this.currentPage=e,this.loadData()},handleJumpPage(){const e=parseInt(this.jumpPage);e&&e>0&&e<=Math.ceil(this.total/this.pageSize)?(this.currentPage=e,this.loadData(),this.jumpPage=""):(this.$message.error("请输入有效的页码"),this.jumpPage="")},loadData(){console.log("加载数据",this.filters,this.currentPage,this.pageSize)}}},i=n,o=a(1656),r=(0,o.A)(i,l,s,!1,null,"7010317d",null),c=r.exports}}]);